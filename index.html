<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><title>New Visit</title><style>:root{--glass-bg:rgba(255,255,255,.12);--glass-bg-hover:rgba(255,255,255,.22);--danger:#ff5252;--ok:#22c55e}*{box-sizing:border-box}body{min-height:100vh;margin:0;padding:20px;display:flex;flex-direction:column;justify-content:center;align-items:center;background:radial-gradient(circle at top,#00c6ff 0,#007aff 45%,#001b4d 100%);color:#fff;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif}h1{font-size:2.4rem;font-weight:700;margin:0 0 18px;text-shadow:0 10px 25px rgba(0,0,0,.3);text-align:center;animation:fadeInDown .8s ease}form{width:100%;max-width:560px;background:var(--glass-bg);border-radius:18px;padding:20px 20px 22px;box-shadow:0 18px 45px rgba(0,0,0,.45);backdrop-filter:blur(16px);border:1px solid rgba(255,255,255,.25);animation:fadeInUp .9s ease;position:relative;overflow:hidden}label{display:block;font-weight:600;margin:12px 6px 6px;font-size:.92rem}.req{opacity:.9}input[type=text],input[type=tel],input[type=file],select{width:100%;padding:10px 10px;border-radius:10px;border:1px solid rgba(255,255,255,.28);outline:none;background:rgba(5,28,70,.5);color:#fff;font-size:.95rem;transition:all .2s ease}input::placeholder{color:rgba(255,255,255,.55)}select{cursor:pointer}input[type=text]:focus,input[type=tel]:focus,input[type=file]:focus,select:focus{border-color:#fff;box-shadow:0 0 0 1px rgba(255,255,255,.55);background:rgba(5,28,70,.75)}.row{display:flex;flex-direction:column;gap:10px 16px}.row>div{flex:1;min-width:0}@media (min-width:640px){.row{flex-direction:row}}.error{color:#ffd0d0;font-size:.78rem;margin:4px 6px 0;display:none}.error.show{display:block}input.invalid,select.invalid{border-color:var(--danger);box-shadow:0 0 0 1px rgba(255,82,82,.6)}button[type=submit]{width:100%;margin-top:16px;padding:11px 10px;border-radius:999px;border:none;background:linear-gradient(135deg,#16a34a,#22c55e);color:#f9fff9;font-weight:700;font-size:1rem;cursor:pointer;box-shadow:0 12px 28px rgba(0,0,0,.45);transition:transform .15s ease,box-shadow .15s ease,filter .15s ease}button[type=submit]:hover:not(:disabled){transform:translateY(-1px);filter:brightness(1.05);box-shadow:0 16px 38px rgba(0,0,0,.55)}button[type=submit]:disabled{opacity:.6;cursor:wait;box-shadow:none}.hint{font-size:.78rem;opacity:.85;margin:4px 6px 0}#toast{position:fixed;left:50%;bottom:24px;transform:translateX(-50%) translateY(100%);background:rgba(15,23,42,.96);color:#f9fafb;padding:10px 16px;border-radius:999px;box-shadow:0 16px 35px rgba(0,0,0,.5);font-size:.9rem;opacity:0;pointer-events:none;transition:all .25s ease;z-index:999;max-width:90%;text-align:center}#toast.show{opacity:1;transform:translateX(-50%) translateY(0)}.checkmark{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity .25s ease}.checkmark.show{opacity:1}.checkmark svg{width:72px;height:72px;filter:drop-shadow(0 12px 25px rgba(0,0,0,.6))}#confettiCanvas{position:fixed;inset:0;pointer-events:none;z-index:500}.form-success{box-shadow:0 0 0 1px rgba(34,197,94,.6),0 18px 45px rgba(0,0,0,.5);animation:successPulse 1.1s ease-out}@keyframes successPulse{0%{box-shadow:0 0 0 0 rgba(34,197,94,0)}40%{box-shadow:0 0 0 12px rgba(34,197,94,.35)}100%{box-shadow:0 0 0 0 rgba(34,197,94,0)}}@keyframes fadeInDown{from{opacity:0;transform:translateY(-18px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeInUp{from{opacity:0;transform:translateY(18px)}to{opacity:1;transform:translateY(0)}}</style></head><body><h1>Welcome</h1><canvas id="confettiCanvas"></canvas><form id="visit-form" novalidate><div class="row"><div><label for="fullName">Full Name <span class="req">*</span></label><input id="fullName" name="fullName" type="text" placeholder="Full Name" autocomplete="name" required/><div id="errName" class="error">Please enter a valid full name (3 characters or more).</div></div><div><label for="passport">Passport Number <span class="req">*</span></label><input id="passport" name="passport" type="text" pattern="[A-Za-z0-9]{6,12}" placeholder="Passport Number" required/><div id="errPass" class="error">Passport must be 6â€“12 letters or digits (Aâ€“Z, 0â€“9).</div></div></div><div class="row"><div><label for="countryCode">Country Code <span class="req">*</span></label><select id="countryCode" name="countryCode" required><option value="+212" selected>ðŸ‡²ðŸ‡¦ Morocco (+212)</option><option value="+33">ðŸ‡«ðŸ‡· France (+33)</option><option value="+34">ðŸ‡ªðŸ‡¸ Spain (+34)</option><option value="+39">ðŸ‡®ðŸ‡¹ Italy (+39)</option><option value="+49">ðŸ‡©ðŸ‡ª Germany (+49)</option><option value="+44">ðŸ‡¬ðŸ‡§ United Kingdom (+44)</option><option value="+1">ðŸ‡ºðŸ‡¸ðŸ‡¨ðŸ‡¦ USA / Canada (+1)</option><option value="+971">ðŸ‡¦ðŸ‡ª UAE (+971)</option><option value="+966">ðŸ‡¸ðŸ‡¦ Saudi Arabia (+966)</option><option value="+20">ðŸ‡ªðŸ‡¬ Egypt (+20)</option></select></div><div><label for="phone">Phone Number <span class="req">*</span></label><input id="phone" name="phone" type="tel" placeholder="612345678" autocomplete="tel" required/><div id="errPhone" class="error">Please enter a valid phone number (digits only).</div><div class="hint">Write the number without the country code (it will be added automatically).</div></div></div><label for="pdf">Passport File <span class="req">*</span></label><input id="pdf" name="pdf" type="file" accept="application/pdf,image/*" required/><div id="errFile" class="error">Please upload a PDF, JPG, PNG or WebP file up to 20MB.</div><div class="hint">Accepted: PDF, JPG, PNG, WebP (max 20MB).</div><button id="sendBtn" type="submit">Send</button><div class="checkmark" id="checkmark"><svg viewBox="0 0 52 52"><circle cx="26" cy="26" r="25" fill="#22c55e"/><path d="M14 27l7 7 17-17" fill="none" stroke="#fff" stroke-width="3.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div></form><div id="toast"></div><script>(function(){const A="https://api.mehdik.site/",B=document.getElementById("visit-form"),C=document.getElementById("sendBtn"),D=document.getElementById("toast"),E=document.getElementById("checkmark"),F=document.getElementById("confettiCanvas"),G=F.getContext("2d"),H=document.getElementById("fullName"),I=document.getElementById("passport"),J=document.getElementById("countryCode"),K=document.getElementById("phone"),L=document.getElementById("pdf"),M=document.getElementById("errName"),N=document.getElementById("errPass"),O=document.getElementById("errPhone"),P=document.getElementById("errFile");let Q=[];function R(a){D.textContent=a,D.classList.add("show"),setTimeout(function(){D.classList.remove("show")},2600)}function S(){let a=!0;function b(e,g){e.classList.remove("invalid"),g.classList.remove("show")}function c(e,g){e.classList.add("invalid"),g.classList.add("show"),a=!1}b(H,M),b(I,N),b(J,O),b(K,O),b(L,P);const d=(H.value||"").trim();d.length<3&&c(H,M);const e=(I.value||"").trim(),f=/^[A-Za-z0-9]{6,12}$/;f.test(e)||c(I,N);const g=(J.value||"").trim(),h=/^\+\d{1,4}$/;h.test(g)||c(J,O);let i=(K.value||"").trim().replace(/\s+/g,""),j=/^\d{6,15}$/;j.test(i)||c(K,O);const k=L.files[0];if(!k)c(L,P);else{const l=["application/pdf","image/jpeg","image/png","image/webp"];(!l.includes(k.type)||k.size>20971520)&&c(L,P)}return a}async function T(){const a=new FormData(B),b=(J.value||"").trim();let c=(K.value||"").trim().replace(/\s+/g,"");a.append("fullPhone",b+" "+c);const d=await fetch(A,{method:"POST",body:a});let e=null;try{e=await d.json()}catch(f){throw new Error("Invalid response from server.")}if(!d.ok||!e.ok)throw new Error(e&&e.error?e.error:"Server returned an error")}function U(){F.width=window.innerWidth,F.height=window.innerHeight}window.addEventListener("resize",U),U();function V(){Q=[];for(let a=0;a<140;a++)Q.push({x:Math.random()*F.width,y:Math.random()*F.height-F.height,w:5+Math.random()*5,h:8+Math.random()*8,vy:2+Math.random()*4,rot:Math.random()*Math.PI*2,vr:(Math.random()-.5)*.2})}function W(){G.clearRect(0,0,F.width,F.height),Q.forEach(function(a){a.y+=a.vy,a.rot+=a.vr,a.y-a.h>F.height&&(a.y=-a.h);const b=140+a.x/F.width*140;G.save(),G.translate(a.x,a.y),G.rotate(a.rot),G.fillStyle="hsl("+b+",80%,60%)",G.fillRect(-a.w/2,-a.h/2,a.w,a.h),G.restore()})}let X=null;function Y(a){V();const b=performance.now();function c(d){const e=d-b;W(),e<a?(X=requestAnimationFrame(c)):(G.clearRect(0,0,F.width,F.height),X=null)}X&&cancelAnimationFrame(X),X=requestAnimationFrame(c)}function Z(){B.classList.add("form-success"),E.classList.add("show"),Y(1800),setTimeout(function(){B.classList.remove("form-success"),E.classList.remove("show")},1800)}B.addEventListener("submit",async function(a){a.preventDefault();if(!S()){R("âš ï¸ Please check your inputs and try again.");return}try{C.disabled=!0,C.textContent="Sendingâ€¦",await T(),R("âœ… Sent successfully."),Z(),B.reset()}catch(b){console.error(b),R("âŒ Sending failed. Try again later.")}finally{C.disabled=!1,C.textContent="Send"}})})();</script></body></html>
