<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯</title>
  <style>
    :root { --bg1:#007aff; --bg2:#00c6ff; --card: rgba(255,255,255,.12); --border: rgba(255,255,255,.2); }
    * { box-sizing: border-box; }
    body {
      margin: 0; font-family: "Cairo", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color: #fff;
      min-height: 100vh; display: grid; place-items: center;
      background: linear-gradient(135deg, var(--bg1), var(--bg2));
    }
    .shell { width: 100%; max-width: 420px; padding: 24px; }
    .card {
      background: var(--card);
      backdrop-filter: blur(16px);
      border: 1px solid var(--border);
      border-radius: 20px; box-shadow: 0 18px 45px rgba(0,0,0,.25);
      padding: 28px; animation: pop .6s ease;
    }
    h1 { margin: 0 0 6px; font-size: 1.6rem; }
    .sub { opacity: .9; margin: 0 0 22px; }
    label { display:block; margin: 14px 0 8px; font-weight:600; }
    select, input[type="date"] {
      width: 100%; padding: 12px 14px; border-radius: 14px; border: 1px solid var(--border);
      background: rgba(255,255,255,.18); color: #fff; outline: none; font: inherit;
    }
    select:disabled { opacity:.6; cursor:not-allowed; }
    .btn { width:100%; margin-top:18px; padding: 14px; border: 0; border-radius: 14px; font-weight:700; font-size:1.05rem; cursor:pointer;
      background:#fff; color:#0b69ff; transition: transform .18s ease, filter .18s ease; }
    .btn:hover { transform: translateY(-1px); filter: brightness(.98); }
    .btn:active { transform: translateY(0); }
    .row { display:grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .toast { position: fixed; bottom: 22px; right: 22px; background: rgba(0,0,0,.82); padding: 12px 16px; border-radius: 12px; opacity:0; transition: opacity .35s ease; font-size:.95rem; }
    .toast.show { opacity:1; }
    .hint { display:block; margin-top:6px; font-size:.85rem; opacity:.85; }
    @keyframes pop { from {opacity:0; transform: translateY(8px) scale(.98);} to {opacity:1; transform: none;} }
  </style>
</head>
<body>
  <main class="shell">
    <section class="card" id="card">
      <h1>ğŸ“… Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯</h1>
      <p class="sub">Ø§Ø®ØªÙØ± Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª ÙÙ‚Ø· â€” Ø¯ÙˆÙ† Ø£ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©.</p>

      <label for="date">Ø§Ù„ØªØ§Ø±ÙŠØ®</label>
      <input id="date" type="date" />
      <span class="hint">Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ø®ØªÙŠØ§Ø± ØªØ§Ø±ÙŠØ® Ø³Ø§Ø¨Ù‚ Ù„Ù„ÙŠÙˆÙ….</span>

      <div class="row">
        <div>
          <label for="time">Ø§Ù„ÙˆÙ‚Øª</label>
          <select id="time" disabled>
            <option value="">Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ‚Øª</option>
          </select>
        </div>
        <div>
          <label for="duration">Ø§Ù„Ù…Ø¯Ø©</label>
          <select id="duration">
            <option value="30">30 Ø¯Ù‚ÙŠÙ‚Ø©</option>
            <option value="45">45 Ø¯Ù‚ÙŠÙ‚Ø©</option>
            <option value="60" selected>60 Ø¯Ù‚ÙŠÙ‚Ø©</option>
          </select>
        </div>
      </div>

      <button class="btn" id="book">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…ÙˆØ¹Ø¯</button>
    </section>
  </main>

  <div class="toast" id="toast"></div>

  <script>
    // Ø¶Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù… Ù‡Ù†Ø§
    const BOT_TOKEN = "7544882164:AAHUQCd3fnHSwbj6tSPIGSEbRgkOXS3wLTY"; // Ù…Ø«Ø§Ù„: 123456789:ABCdef...
    const CHAT_ID  = "6494466799"; // Ù…Ø«Ø§Ù„: -1001234567890 Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

    const dateEl = document.getElementById('date');
    const timeEl = document.getElementById('time');
    const durationEl = document.getElementById('duration');
    const bookBtn = document.getElementById('book');
    const toast = document.getElementById('toast');

    // Ù…Ù†Ø¹ Ø§Ø®ØªÙŠØ§Ø± ØªÙˆØ§Ø±ÙŠØ® Ù…Ø§Ø¶ÙŠØ©
    const today = new Date();
    const yyyy = today.getFullYear();
    const mm = String(today.getMonth()+1).padStart(2,'0');
    const dd = String(today.getDate()).padStart(2,'0');
    dateEl.min = `${yyyy}-${mm}-${dd}`;

    // ØªÙˆÙ„ÙŠØ¯ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø¹Ù…Ù„ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ (10:00 -> 20:00 ÙƒÙ„ 30 Ø¯Ù‚ÙŠÙ‚Ø©)
    function buildSlots() {
      timeEl.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ‚Øª</option>';
      const start = 10*60, end = 20*60, step = 30; // Ø¯Ù‚Ø§Ø¦Ù‚
      for (let m = start; m <= end; m += step) {
        const h = String(Math.floor(m/60)).padStart(2,'0');
        const min = String(m%60).padStart(2,'0');
        const label = `${h}:${min}`;
        const opt = document.createElement('option');
        opt.value = label;
        opt.textContent = label;
        timeEl.appendChild(opt);
      }
    }
    buildSlots();

    // ØªÙØ¹ÙŠÙ„ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙˆÙ‚Øª Ø¨Ø¹Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªØ§Ø±ÙŠØ®
    dateEl.addEventListener('change', () => {
      timeEl.disabled = !dateEl.value;
    });

    function showToast(msg) {
      toast.textContent = msg; toast.classList.add('show');
      setTimeout(()=> toast.classList.remove('show'), 2800);
    }

    function randomId(len=6) {
      const chars = 'ABCDEFGHJKMNPQRSTUVWXZ23456789';
      let out = ''; for (let i=0;i<len;i++) out += chars[Math.floor(Math.random()*chars.length)];
      return out;
    }

    bookBtn.addEventListener('click', async () => {
      const date = dateEl.value; const time = timeEl.value; const dur = durationEl.value;
      if (!date || !time) { showToast('âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª'); return; }

      const bookingId = randomId();
      const msg = `\nğŸ—“ï¸ Ø­Ø¬Ø² Ù…ÙˆØ¹Ø¯ Ø¬Ø¯ÙŠØ¯\nğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: ${date}\nğŸ•’ Ø§Ù„ÙˆÙ‚Øª: ${time}\nâ³ Ø§Ù„Ù…Ø¯Ø©: ${dur} Ø¯Ù‚ÙŠÙ‚Ø©\nğŸ”– Ø±Ù‚Ù… Ø§Ù„Ø­Ø¬Ø²: ${bookingId}\nâ±ï¸ Ø£ÙØ±Ø³Ù„ ÙÙŠ: ${new Date().toLocaleString('ar-EG')}\n`;

      try {
        const res = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
          method: 'POST', headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ chat_id: CHAT_ID, text: msg })
        });
        if (res.ok) {
          showToast('âœ… ØªÙ… Ø­Ø¬Ø² Ø§Ù„Ù…ÙˆØ¹Ø¯ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±');
          // Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª
          timeEl.value = ''; dateEl.value = ''; timeEl.disabled = true; durationEl.value = '60';
        } else {
          showToast('âŒ ØªØ¹Ø°Ù‘Ø± Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ØŒ ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª');
        }
      } catch (e) {
        console.error(e); showToast('âš ï¸ Ù…Ø´ÙƒÙ„Ø© Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ø£Ùˆ Ø§Ù„Ø¨ÙˆØª');
      }
    });
  </script>
</body>
</html>
